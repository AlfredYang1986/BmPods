storages:
- name: BmUserStorage
  method: NewUserStorage
- name: BmChocolateStorage
  method: NewChocolateStorage
resources:
- name: BmUserResource
  method: NewUserResource
  storages:
  - BmUserStorage
    BmChocolateStorage
- name: BmChocolateResource
  method: NewChocolateResource
  storages:
  - BmUserStorage
    BmChocolateStorage
models:
- BmUser
  BmChocolate
services:
- name: bm-user
  model: BmUser
  resource: BmUserResource
  relationships:
    one2many:
    - name: sweets
      method:
      - set: setfunc
        append: appendfunc
        delete: deletefunc
- name: bm-chocolate
  model: BmChocolate
  resource: BmChocolateResource
  storage:
  - BmChocolateStorage
    BmUserStorage
